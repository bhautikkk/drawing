:root {
    --primary-color: #6200ea;
    --primary-hover: #3700b3;
    --bg-color: #f0f2f5;
    --text-color: #333;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent;
    /* Remove tap highlight on mobile */
}

body,
html {
    width: 100%;
    height: 100%;
    overflow: hidden;
    /* Prevent scrolling */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    /* Prevent scrolling */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--bg-color);
}

#username-input {
    text-align: center;
}

.screen {
    display: none;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
}

.screen.active {
    display: flex;
}

/* Main Menu & Lobby */
#main-menu,
#lobby-screen {
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: url('background.png') no-repeat center center fixed;
    background-size: cover;
    color: #333;
    /* Dark text for contrast against bright sky */
    text-align: center;
    padding: 20px;
}

.menu-content h1,
.lobby-content h2 {
    font-size: 3rem;
    margin-bottom: 2rem;
    color: white;
    /* White text looks better on the blue sky */
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    /* Soft shadow */
    font-weight: 800;
}

.menu-content p,
.lobby-content p {
    color: white;
    font-weight: 600;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

/* Glassmorphism Containers */
.create-section,
.join-section,
.lobby-content .code-display,
.name-section {
    background: rgba(255, 255, 255, 0.35);
    /* More transparent */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 25px;
    border-radius: 20px;
    /* Softer rounded corners */
    margin: 0 auto 25px auto;
    width: 100%;
    max-width: 400px;
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    /* Soft premium shadow */
    color: #333;
}

/* Specific fix for code display container since I added it to the selector list above */
.lobby-content .code-display {
    display: flex;
    flex-direction: row;
    /* Ensure it keeps row layout */
    margin: 20px 0;
}

.button-group {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 10px;
}

.create-btn,
#join-btn,
#copy-code-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    color: var(--primary-color);
    background: white;
}

#room-code-input {
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin-right: 10px;
    font-size: 1rem;
    width: 150px;
    text-align: center;
}

.code-display {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    background: rgba(0, 0, 0, 0.2);
    padding: 15px;
    border-radius: 10px;
    margin: 20px 0;
}

#room-code-display {
    font-size: 2rem;
    font-family: monospace;
    font-weight: bold;
    letter-spacing: 5px;
}



/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 100;
    justify-content: center;
    align-items: center;
}

.modal.active {
    display: flex;
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.modal-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

#accept-turn-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

#reject-turn-btn {
    background-color: #f44336;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

/* Landing Screen */
#landing-screen {
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%);
    color: white;
    text-align: center;
}

.landing-content h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.landing-content p {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

#start-btn {
    padding: 15px 40px;
    font-size: 1.2rem;
    background-color: white;
    color: var(--primary-color);
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s, box-shadow 0.2s;
    font-weight: bold;
}

#start-btn:active {
    transform: scale(0.95);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Drawing Screen */
#drawing-screen {
    flex-direction: column;
    background-color: white;
}

#top-bar {
    width: 100%;
    height: 60px;
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1rem;
    z-index: 10;
    position: relative;
    /* For absolute positioning of info bar if needed, or flex */
}

/* New Info Bar Styles */
#game-info-bar {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 2px;
    margin-right: 20px;
}

#room-info {
    font-size: 0.8rem;
    color: #666;
    font-weight: bold;
}

#players-list {
    display: flex;
    gap: 10px;
    font-size: 0.9rem;
    font-weight: bold;
}

.player-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.player-item.drawer {
    color: var(--primary-color);
}

.brush-icon {
    width: 14px;
    height: 14px;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="%236200ea" d="M205.3 328.6c-4.2-12.7-18.1-19.4-30.8-15.2l-64.4 21.5c-48.3 16.1-71.7 69.8-51.5 116.6 9.8 22.7 30.6 38.3 55.4 39.5l.4.02c46.7 1.9 88-34.5 91.2-81.7l1.7-25.1c.9-13.4-9.3-25.1-22-26.6zm-18.9 92c-6.1 1.6-12.3-1.9-14-8l-1.6-6c-1.6-6.1 1.9-12.3 8-14 6.1-1.6 12.3 1.9 14 8l1.6 6c1.6 6.1-1.9 12.3-8 14zM472.9 59.5c-20.9-22-54.6-23.7-77.5-3.8l-169 130.4-30.4 23.5-38.6 29.8c-10 7.7-17.6 17.5-22.1 28.7L122.9 308c-5.1 12.8 5.7 26.2 19.1 23.3l49.5-10.7c18.6-4 35.5-12.9 49.3-25.9l46.4-43.8 152.8-149.2c19.6-19.1 22.1-50.5 4.9-72.2zM330.3 190.4l-30.6 28.9-38.3 36.1-43.2 40.8c-2.4 2.2-5.3 3.8-8.4 4.5l-20.4 4.4 4.7-19.5c.8-3.4 2.8-6.4 5.4-8.5l37.2-28.7 32-24.7 18.2-14 74.5-57.5c2.4-1.9 6-1.5 7.9 .9l9.9 12.8c1.9 2.4 1.5 6-.9 7.9l-48 37z"/></svg>');
    background-size: cover;
    display: none;
}

.player-item.drawer .brush-icon {
    display: inline-block;
}

/* Toolbar Styles */
.tools-container {
    display: flex;
    align-items: center;
    gap: 15px;
    background: #f1f3f4;
    padding: 5px 15px;
    border-radius: 30px;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

.tool-group {
    display: flex;
    align-items: center;
    gap: 8px;
    border-right: 1px solid #ddd;
    padding-right: 15px;
}

.tool-group:last-child {
    border-right: none;
    padding-right: 0;
}

.tool-btn {
    width: 36px;
    height: 36px;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    background: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: transform 0.1s, background 0.2s;
}

.tool-btn:active {
    transform: scale(0.95);
}

.tool-btn:hover {
    background: #e0e0e0;
}

/* Color Picker Button & Palette */
.color-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.color-btn {
    border: 2px solid #fff;
    box-shadow: 0 0 0 2px #ddd;
}

.palette {
    position: absolute;
    top: 50px;
    left: 0;
    background: white;
    padding: 10px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    z-index: 100;
}

.palette.hidden {
    display: none;
}

.color-option {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.2s, border 0.2s;
    border: 2px solid #eee;
}

.color-option:hover {
    transform: scale(1.1);
}

/* Range Input (Slider) */
input[type=range] {
    -webkit-appearance: none;
    appearance: none;
    width: 100px;
    height: 6px;
    background: #ccc;
    border-radius: 3px;
    outline: none;
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

#clear-btn {
    color: #d32f2f;
}

#eraser-btn.active {
    background: #bbb;
}

#my-turn-btn {
    padding: 8px 16px;
    background-color: #ff9800;
    color: white;
    border: none;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
    font-size: 0.9rem;
}

#my-turn-btn:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

#drawing-canvas {
    flex: 1;
    width: 100%;
    touch-action: none;
    /* Critical for mobile drawing */
    cursor: crosshair;
}

/* Mobile Responsiveness */
@media screen and (max-width: 768px) {
    .menu-content h1 {
        font-size: 2rem;
    }

    .create-section,
    .join-section {
        padding: 15px;
        max-width: 90%;
    }

    #room-code-input {
        width: 120px;
    }

    #top-bar {
        height: auto;
        padding: 5px;
        flex-wrap: wrap;
        gap: 5px;
    }

    #game-info-bar {
        flex-direction: row;
        gap: 10px;
        width: 100%;
        justify-content: space-between;
        margin-right: 0;
        margin-bottom: 5px;
        font-size: 0.8rem;
    }

    #drawing-tools {
        width: 100%;
        overflow-x: auto;
        padding: 5px 10px;
        gap: 10px;
        /* Hide scrollbar but allow scroll */
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    #drawing-tools::-webkit-scrollbar {
        display: none;
    }

    .tool-group {
        padding-right: 10px;
        gap: 5px;
    }

    .tool-btn {
        width: 32px;
        height: 32px;
        font-size: 1rem;
    }

    input[type=range] {
        width: 80px;
    }

    /* Make palette pop downward or aligned better on mobile */
    /* Make palette pop downward or aligned better on mobile */
    .palette {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        grid-template-columns: repeat(4, 1fr);
        box-shadow: 0 0 0 1000px rgba(0, 0, 0, 0.5);
        /* Modal backdrop effect */
        z-index: 1000;
        padding: 20px;
    }
}

@media screen and (max-width: 480px) {
    .menu-content h1 {
        font-size: 1.8rem;
    }

    .button-group {
        flex-wrap: wrap;
    }

    .create-btn {
        flex: 1 1 40%;
        font-size: 0.9rem;
    }

    #drawing-tools {
        gap: 8px;
    }

    .tool-btn {
        width: 28px;
        height: 28px;
    }

    #game-info-bar {
        display: none;
        /* Optionally hide info or make it very small if space is tight, or just let it stack */
    }

    /* Re-show info bar elements but compact */
    #game-info-bar {
        display: flex;
        font-size: 0.75rem;
    }
}